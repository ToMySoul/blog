---
title: 连接池
tags: 连接池
---
# 数据库

## 连接池

数据库连接池是一种池化技术，池化技术核心思想是实现资源的复用，避免资源重复创建销毁的开销。

在数据的应用场景里，应用程序每次向数据库发起CRUD操作的时候，都需要创建连接，在数据库访问量较大的情况下，频繁的创建连接会带来较大的性能开销。

连接池核心的思想，就是应用程序在启动的时候提前初始化一部分连接保存到连接池里面。当应用需要使用连接的时候，获取一个已经建立好的链接。

连接池的设计，避免了每次连接的建立和释放带来的开销。

### 连接池初始化关键参数

1. 初始化连接数：表示启动的时候初始多少个连接保存到连接池里面
2. 最大连接数：表示同时最多能支持多少连接，如果连接数不够，后续要获取连接的线程会阻塞。
3. 最大空闲连接数：表示没有请求的时候，连接池中要保留的最大空闲连接。
4. 最小空闲连接：当连接数小于这个值得时候，连接池需要再创建连接来补充

连接时候关键参数

* 最大等待时间：就是连接池里面的连接用完之后，新的请求要等待的时间超过这个时间会显示异常。

* 无效连接清楚： 清理连接池里面的无效连接，避免使用这个连接操作的时候出现错误。

  

  

## 常见的连接池方案

1.  C3P0
2. DBCP :数据库连接池。TomCat 内置了DBCP的数据源实现
3. DRUID：阿里开源的数据源，提供了强大的监控和拓展功能，强项在于监控
4. HiKariCP：springboot2.0 默认数据源改为了HiKariCp ,强于性能









